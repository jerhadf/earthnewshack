## API Report File for "convex"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

// Warning: (ae-forgotten-export) The symbol "GenericAPI" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "FunctionVisibility" needs to be exported by the entry point index.d.ts
//
// @public
export type ActionBuilder<API extends GenericAPI, Visibility extends FunctionVisibility> = {
    <Output, ArgsValidator extends PropertyValidators>(func: ValidatedFunction<ActionCtx<API>, ArgsValidator, Output>): RegisteredAction<Visibility, [ObjectType<ArgsValidator>], Output>;
    <Output, Args extends ArgsArray = OneArgArray>(func: UnvalidatedFunction<ActionCtx<API>, Args, Output>): RegisteredAction<Visibility, Args, Output>;
};

// @public
export interface ActionCtx<API extends GenericAPI> {
    auth: Auth;
    // Warning: (ae-forgotten-export) The symbol "ActionNames" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "NamedAction" needs to be exported by the entry point index.d.ts
    runAction<Name extends ActionNames<API>>(name: Name, ...args: OptionalRestArgs<NamedAction<API, Name>>): Promise<ReturnType<NamedAction<API, Name>>>;
    // Warning: (ae-forgotten-export) The symbol "MutationNames" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "NamedMutation" needs to be exported by the entry point index.d.ts
    runMutation<Name extends MutationNames<API>>(name: Name, ...args: OptionalRestArgs<NamedMutation<API, Name>>): Promise<ReturnType<NamedMutation<API, Name>>>;
    // Warning: (ae-forgotten-export) The symbol "QueryNames" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "OptionalRestArgs" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "NamedQuery" needs to be exported by the entry point index.d.ts
    runQuery<Name extends QueryNames<API>>(name: Name, ...args: OptionalRestArgs<NamedQuery<API, Name>>): Promise<ReturnType<NamedQuery<API, Name>>>;
    scheduler: Scheduler<API>;
    storage: StorageActionWriter;
}

// @public
export const actionGeneric: ActionBuilder<any, "public">;

// @public
export type AnyDataModel = {
    [tableName: string]: {
        document: any;
        fieldPaths: GenericFieldPaths;
        indexes: {};
        searchIndexes: {};
    };
};

// @public
export interface Auth {
    getUserIdentity(): Promise<UserIdentity | null>;
}

// @public
export interface CronJob {
    // Warning: (ae-forgotten-export) The symbol "JSONValue" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    args: JSONValue;
    // (undocumented)
    name: string;
    // Warning: (ae-forgotten-export) The symbol "Schedule" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    schedule: Schedule;
}

// @public (undocumented)
export type CronJobsForAPI<API extends GenericAPI> = () => Crons<API>;

// @public
export const cronJobsGeneric: <API extends GenericAPI>() => Crons<API>;

// @public
export class Crons<API extends GenericAPI> {
    constructor();
    // Warning: (ae-forgotten-export) The symbol "CronString" needs to be exported by the entry point index.d.ts
    cron<Name extends SchedulableFunctionNames<API>>(cronIdentifier: string, cron: CronString, functionName: Name, ...args: OptionalRestArgs<NamedSchedulableFunction<API, Name>>): void;
    // (undocumented)
    crons: Record<string, CronJob>;
    // Warning: (ae-forgotten-export) The symbol "Daily" needs to be exported by the entry point index.d.ts
    daily<Name extends SchedulableFunctionNames<API>>(cronIdentifier: string, schedule: Daily, functionName: Name, ...args: OptionalRestArgs<NamedSchedulableFunction<API, Name>>): void;
    // @internal (undocumented)
    export(): string;
    // Warning: (ae-forgotten-export) The symbol "Hourly" needs to be exported by the entry point index.d.ts
    hourly<Name extends SchedulableFunctionNames<API>>(cronIdentifier: string, schedule: Hourly, functionName: Name, ...args: OptionalRestArgs<NamedSchedulableFunction<API, Name>>): void;
    // Warning: (ae-forgotten-export) The symbol "Interval" needs to be exported by the entry point index.d.ts
    interval<Name extends SchedulableFunctionNames<API>>(cronIdentifier: string, schedule: Interval, functionName: Name, ...args: OptionalRestArgs<NamedSchedulableFunction<API, Name>>): void;
    // (undocumented)
    isCrons: true;
    // Warning: (ae-forgotten-export) The symbol "Monthly" needs to be exported by the entry point index.d.ts
    monthly<Name extends SchedulableFunctionNames<API>>(cronIdentifier: string, schedule: Monthly, functionName: Name, ...args: OptionalRestArgs<NamedSchedulableFunction<API, Name>>): void;
    // Warning: (ae-forgotten-export) The symbol "Value" needs to be exported by the entry point index.d.ts
    //
    // @internal (undocumented)
    schedule(cronIdentifier: string, schedule: Schedule, name: string, args?: Record<string, Value>): void;
    // Warning: (ae-forgotten-export) The symbol "Weekly" needs to be exported by the entry point index.d.ts
    weekly<Name extends SchedulableFunctionNames<API>>(cronIdentifier: string, schedule: Weekly, functionName: Name, ...args: OptionalRestArgs<NamedSchedulableFunction<API, Name>>): void;
}

// @public
export type Cursor = string;

// @public
export interface DatabaseReader<DataModel extends GenericDataModel> {
    // Warning: (ae-forgotten-export) The symbol "Id" needs to be exported by the entry point index.d.ts
    get<TableName extends TableNamesInDataModel<DataModel>>(id: Id<TableName>): Promise<DocumentByName<DataModel, TableName> | null>;
    query<TableName extends TableNamesInDataModel<DataModel>>(tableName: TableName): QueryInitializer<NamedTableInfo<DataModel, TableName>>;
}

// @public
export interface DatabaseWriter<DataModel extends GenericDataModel> extends DatabaseReader<DataModel> {
    delete(id: Id<TableNamesInDataModel<DataModel>>): Promise<void>;
    insert<TableName extends TableNamesInDataModel<DataModel>>(table: TableName, value: WithoutSystemFields<DocumentByName<DataModel, TableName>>): Promise<Id<TableName>>;
    patch<TableName extends TableNamesInDataModel<DataModel>>(id: Id<TableName>, value: Partial<DocumentByName<DataModel, TableName>>): Promise<void>;
    // Warning: (ae-forgotten-export) The symbol "WithOptionalSystemFields" needs to be exported by the entry point index.d.ts
    replace<TableName extends TableNamesInDataModel<DataModel>>(id: Id<TableName>, value: WithOptionalSystemFields<DocumentByName<DataModel, TableName>>): Promise<void>;
}

// @public
export type DocumentByInfo<TableInfo extends GenericTableInfo> = TableInfo["document"];

// @public
export type DocumentByName<DataModel extends GenericDataModel, TableName extends TableNamesInDataModel<DataModel>> = DataModel[TableName]["document"];

// @public
export abstract class Expression<T extends Value | undefined> {
    // @internal
    constructor();
}

// @public
export type ExpressionOrValue<T extends Value | undefined> = Expression<T> | T;

// @public
export type FieldPaths<TableInfo extends GenericTableInfo> = TableInfo["fieldPaths"];

// @public
export type FieldTypeFromFieldPath<Document extends GenericDocument, FieldPath extends string> = FieldPath extends `${infer First}.${infer Second}` ? First extends keyof Document ? Document[First] extends GenericDocument ? FieldTypeFromFieldPath<Document[First], Second> : null : null : FieldPath extends keyof Document ? Document[FieldPath] : null;

// @public
export type FileMetadata = {
    storageId: StorageId;
    sha256: string;
    size: number;
    contentType: string | null;
};

// @public
export interface FilterBuilder<TableInfo extends GenericTableInfo> {
    // Warning: (ae-forgotten-export) The symbol "NumericValue" needs to be exported by the entry point index.d.ts
    add<T extends NumericValue>(l: ExpressionOrValue<T>, r: ExpressionOrValue<T>): Expression<T>;
    and(...exprs: Array<ExpressionOrValue<boolean>>): Expression<boolean>;
    div<T extends NumericValue>(l: ExpressionOrValue<T>, r: ExpressionOrValue<T>): Expression<T>;
    eq<T extends Value | undefined>(l: ExpressionOrValue<T>, r: ExpressionOrValue<T>): Expression<boolean>;
    field<FieldPath extends FieldPaths<TableInfo>>(fieldPath: FieldPath): Expression<FieldTypeFromFieldPath<DocumentByInfo<TableInfo>, FieldPath>>;
    gt<T extends Value>(l: ExpressionOrValue<T>, r: ExpressionOrValue<T>): Expression<boolean>;
    gte<T extends Value>(l: ExpressionOrValue<T>, r: ExpressionOrValue<T>): Expression<boolean>;
    lt<T extends Value>(l: ExpressionOrValue<T>, r: ExpressionOrValue<T>): Expression<boolean>;
    lte<T extends Value>(l: ExpressionOrValue<T>, r: ExpressionOrValue<T>): Expression<boolean>;
    mod<T extends NumericValue>(l: ExpressionOrValue<T>, r: ExpressionOrValue<T>): Expression<T>;
    mul<T extends NumericValue>(l: ExpressionOrValue<T>, r: ExpressionOrValue<T>): Expression<T>;
    neg<T extends NumericValue>(x: ExpressionOrValue<T>): Expression<T>;
    neq<T extends Value | undefined>(l: ExpressionOrValue<T>, r: ExpressionOrValue<T>): Expression<boolean>;
    not(x: ExpressionOrValue<boolean>): Expression<boolean>;
    or(...exprs: Array<ExpressionOrValue<boolean>>): Expression<boolean>;
    sub<T extends NumericValue>(l: ExpressionOrValue<T>, r: ExpressionOrValue<T>): Expression<T>;
}

// @public
export type FunctionArgs = Record<string, unknown>;

// @public
export type GenericDataModel = Record<string, GenericTableInfo>;

// @public
export type GenericDocument = Record<string, Value>;

// @public
export type GenericFieldPaths = string;

// @public
export type GenericIndexFields = string[];

// @public
export type GenericSearchIndexConfig = {
    searchField: string;
    filterFields: string;
};

// @public
export type GenericTableIndexes = Record<string, GenericIndexFields>;

// @public
export type GenericTableInfo = {
    document: GenericDocument;
    fieldPaths: GenericFieldPaths;
    indexes: GenericTableIndexes;
    searchIndexes: GenericTableSearchIndexes;
};

// @public
export type GenericTableSearchIndexes = Record<string, GenericSearchIndexConfig>;

// @public
export type HttpActionBuilderForAPI<API extends GenericAPI> = (func: (ctx: ActionCtx<API>, request: Request) => Promise<Response>) => PublicHttpAction;

// @public
export const httpActionGeneric: <API extends GenericAPI>(func: (ctx: ActionCtx<API>, request: Request) => Promise<Response>) => PublicHttpAction;

// @public
export class HttpRouter {
    // (undocumented)
    exactRoutes: Map<string, Map<RoutableMethod, PublicHttpAction>>;
    getRoutes: () => (readonly [string, "POST" | "GET" | "PUT" | "DELETE" | "OPTIONS" | "PATCH", (...args: any[]) => any])[];
    // (undocumented)
    isRouter: boolean;
    lookup: (path: string, method: RoutableMethod | "HEAD") => Readonly<[PublicHttpAction, RoutableMethod, string]> | null;
    // (undocumented)
    prefixRoutes: Map<RoutableMethod, Map<string, PublicHttpAction>>;
    // Warning: (ae-forgotten-export) The symbol "RouteSpec" needs to be exported by the entry point index.d.ts
    route: (spec: RouteSpec) => void;
    runRequest: (argsStr: string) => Promise<string>;
}

// @public
export const httpRouter: () => HttpRouter;

// @public
export type Indexes<TableInfo extends GenericTableInfo> = TableInfo["indexes"];

// @public
export type IndexNames<TableInfo extends GenericTableInfo> = keyof Indexes<TableInfo>;

// @public
export abstract class IndexRange {
    // @internal
    constructor();
}

// Warning: (ae-forgotten-export) The symbol "LowerBoundIndexRangeBuilder" needs to be exported by the entry point index.d.ts
//
// @public
export interface IndexRangeBuilder<Document extends GenericDocument, IndexFields extends GenericIndexFields, FieldNum extends number = 0> extends LowerBoundIndexRangeBuilder<Document, IndexFields[FieldNum]> {
    // Warning: (ae-forgotten-export) The symbol "NextIndexRangeBuilder" needs to be exported by the entry point index.d.ts
    eq(fieldName: IndexFields[FieldNum], value: FieldTypeFromFieldPath<Document, IndexFields[FieldNum]>): NextIndexRangeBuilder<Document, IndexFields, FieldNum>;
}

// @public
export const internalActionGeneric: ActionBuilder<any, "internal">;

// @public
export const internalMutationGeneric: MutationBuilder<any, any, "internal">;

// @public
export const internalQueryGeneric: QueryBuilder<any, "internal">;

// @public
export type MutationBuilder<DataModel extends GenericDataModel, API extends GenericAPI, Visibility extends FunctionVisibility> = {
    <Output, ArgsValidator extends PropertyValidators>(func: ValidatedFunction<MutationCtx<DataModel, API>, ArgsValidator, Output>): RegisteredMutation<Visibility, [ObjectType<ArgsValidator>], Output>;
    <Output, Args extends ArgsArray = OneArgArray>(func: UnvalidatedFunction<MutationCtx<DataModel, API>, Args, Output>): RegisteredMutation<Visibility, Args, Output>;
};

// @public
export interface MutationCtx<DataModel extends GenericDataModel, API extends GenericAPI> {
    auth: Auth;
    db: DatabaseWriter<DataModel>;
    scheduler: Scheduler<API>;
    storage: StorageWriter;
}

// @public
export const mutationGeneric: MutationBuilder<any, any, "public">;

// @public
export type NamedIndex<TableInfo extends GenericTableInfo, IndexName extends IndexNames<TableInfo>> = Indexes<TableInfo>[IndexName];

// @public
export type NamedSchedulableFunction<API extends GenericAPI, Name extends SchedulableFunctionNames<API>> = Name extends ActionNames<API> ? NamedAction<API, Name> : NamedMutation<API, Name>;

// @public
export type NamedSearchIndex<TableInfo extends GenericTableInfo, IndexName extends SearchIndexNames<TableInfo>> = SearchIndexes<TableInfo>[IndexName];

// @public
export type NamedTableInfo<DataModel extends GenericDataModel, TableName extends keyof DataModel> = DataModel[TableName];

// @public
export interface OrderedQuery<TableInfo extends GenericTableInfo> extends AsyncIterable<DocumentByInfo<TableInfo>> {
    collect(): Promise<Array<DocumentByInfo<TableInfo>>>;
    filter(predicate: (q: FilterBuilder<TableInfo>) => Expression<boolean>): OrderedQuery<TableInfo>;
    first(): Promise<DocumentByInfo<TableInfo> | null>;
    // @internal
    limit(n: number): OrderedQuery<TableInfo>;
    paginate(paginationOpts: PaginationOptions): Promise<PaginationResult<DocumentByInfo<TableInfo>>>;
    take(n: number): Promise<Array<DocumentByInfo<TableInfo>>>;
    unique(): Promise<DocumentByInfo<TableInfo> | null>;
}

// @public
export interface PaginationOptions {
    cursor: Cursor | null;
    // @internal
    maximumRowsRead?: number;
    numItems: number;
}

// @public
export interface PaginationResult<T> {
    continueCursor: Cursor;
    isDone: boolean;
    page: T[];
}

// @public
export type PublicHttpAction = {
    (ctx: ActionCtx<any>, request: Request): Response;
    isHttp: true;
    isRegistered?: true;
    invokeHttpAction(request: Request): Promise<Response>;
};

// @public
export interface Query<TableInfo extends GenericTableInfo> extends OrderedQuery<TableInfo> {
    filter(predicate: (q: FilterBuilder<TableInfo>) => Expression<boolean>): Query<TableInfo>;
    order(order: "asc" | "desc"): OrderedQuery<TableInfo>;
}

// @public
export type QueryBuilder<DataModel extends GenericDataModel, Visibility extends FunctionVisibility> = {
    <Output, ArgsValidator extends PropertyValidators>(func: ValidatedFunction<QueryCtx<DataModel>, ArgsValidator, Output>): RegisteredQuery<Visibility, [ObjectType<ArgsValidator>], Output>;
    <Output, Args extends ArgsArray = OneArgArray>(func: UnvalidatedFunction<QueryCtx<DataModel>, Args, Output>): RegisteredQuery<Visibility, Args, Output>;
};

// @public
export interface QueryCtx<DataModel extends GenericDataModel> {
    auth: Auth;
    db: DatabaseReader<DataModel>;
    storage: StorageReader;
}

// @public
export const queryGeneric: QueryBuilder<any, "public">;

// @public
export interface QueryInitializer<TableInfo extends GenericTableInfo> extends Query<TableInfo> {
    // @internal
    count(): Promise<number>;
    fullTableScan(): Query<TableInfo>;
    withIndex<IndexName extends IndexNames<TableInfo>>(indexName: IndexName, indexRange?: (q: IndexRangeBuilder<DocumentByInfo<TableInfo>, NamedIndex<TableInfo, IndexName>>) => IndexRange): Query<TableInfo>;
    withSearchIndex<IndexName extends SearchIndexNames<TableInfo>>(indexName: IndexName, searchFilter: (q: SearchFilterBuilder<DocumentByInfo<TableInfo>, NamedSearchIndex<TableInfo, IndexName>>) => SearchFilter): OrderedQuery<TableInfo>;
}

// Warning: (ae-forgotten-export) The symbol "VisibilityProperties" needs to be exported by the entry point index.d.ts
//
// @public
export type RegisteredAction<Visibility extends FunctionVisibility, Args extends ArgsArray, Output> = {
    (ctx: ActionCtx<any>, ...args: Args): Output;
    args: Args;
    output: Output;
    isAction: true;
    isRegistered?: true;
    invokeAction(requestId: string, argsStr: string): Promise<string>;
    exportArgs(): string;
} & VisibilityProperties<Visibility>;

// @public
export type RegisteredMutation<Visibility extends FunctionVisibility, Args extends ArgsArray, Output> = {
    (ctx: MutationCtx<any, any>, ...args: Args): Output;
    args: Args;
    output: Output;
    isMutation: true;
    isRegistered?: true;
    invokeMutation(argsStr: string): Promise<string>;
    exportArgs(): string;
} & VisibilityProperties<Visibility>;

// @public
export type RegisteredQuery<Visibility extends FunctionVisibility, Args extends ArgsArray, Output> = {
    (ctx: QueryCtx<any>, ...args: Args): Output;
    args: Args;
    output: Output;
    isQuery: true;
    isRegistered?: true;
    invokeQuery(argsStr: string): Promise<string>;
    exportArgs(): string;
} & VisibilityProperties<Visibility>;

// @public
export const ROUTABLE_HTTP_METHODS: readonly ["GET", "POST", "PUT", "DELETE", "OPTIONS", "PATCH"];

// @public
export type RoutableMethod = (typeof ROUTABLE_HTTP_METHODS)[number];

// @public
export type SchedulableFunctionNames<API extends GenericAPI> = ActionNames<API> | MutationNames<API>;

// @public
export interface Scheduler<API extends GenericAPI> {
    runAfter<Name extends SchedulableFunctionNames<API>>(delayMs: number, name: Name, ...args: OptionalRestArgs<NamedSchedulableFunction<API, Name>>): Promise<void>;
    runAt<Name extends SchedulableFunctionNames<API>>(timestamp: number | Date, name: Name, ...args: OptionalRestArgs<NamedSchedulableFunction<API, Name>>): Promise<void>;
}

// @public
export abstract class SearchFilter {
    // @internal
    constructor();
}

// @public
export interface SearchFilterBuilder<Document extends GenericDocument, SearchIndexConfig extends GenericSearchIndexConfig> {
    search(fieldName: SearchIndexConfig["searchField"], query: string): SearchFilterFinalizer<Document, SearchIndexConfig>;
}

// @public
export interface SearchFilterFinalizer<Document extends GenericDocument, SearchIndexConfig extends GenericSearchIndexConfig> extends SearchFilter {
    eq<FieldName extends SearchIndexConfig["filterFields"]>(fieldName: FieldName, value: FieldTypeFromFieldPath<Document, FieldName>): SearchFilterFinalizer<Document, SearchIndexConfig>;
}

// @public
export type SearchIndexes<TableInfo extends GenericTableInfo> = TableInfo["searchIndexes"];

// @public
export type SearchIndexNames<TableInfo extends GenericTableInfo> = keyof SearchIndexes<TableInfo>;

// @public
export interface StorageActionWriter extends StorageWriter {
    get(storageId: StorageId): Promise<Blob | null>;
    store(blob: Blob, options?: {
        sha256?: string;
    }): Promise<StorageId>;
}

// @public
export type StorageId = string;

// @public
export interface StorageReader {
    getMetadata(storageId: StorageId): Promise<FileMetadata | null>;
    getUrl(storageId: StorageId): Promise<string | null>;
}

// @public
export interface StorageWriter extends StorageReader {
    delete(storageId: StorageId): Promise<void>;
    generateUploadUrl(): Promise<string>;
}

// @public
export type TableNamesInDataModel<DataModel extends GenericDataModel> = keyof DataModel & string;

// @public
export type UnvalidatedFunction<Ctx, Args extends ArgsArray, Output> = ((ctx: Ctx, ...args: Args) => Output) | {
    handler: (ctx: Ctx, ...args: Args) => Output;
};

// @public
export interface UserIdentity {
    // (undocumented)
    readonly address?: string;
    // (undocumented)
    readonly birthday?: string;
    // (undocumented)
    readonly email?: string;
    // (undocumented)
    readonly emailVerified?: boolean;
    // (undocumented)
    readonly familyName?: string;
    // (undocumented)
    readonly gender?: string;
    // (undocumented)
    readonly givenName?: string;
    readonly issuer: string;
    // (undocumented)
    readonly language?: string;
    // (undocumented)
    readonly name?: string;
    // (undocumented)
    readonly nickname?: string;
    // (undocumented)
    readonly phoneNumber?: string;
    // (undocumented)
    readonly phoneNumberVerified?: boolean;
    // (undocumented)
    readonly pictureUrl?: string;
    // (undocumented)
    readonly preferredUsername?: string;
    // (undocumented)
    readonly profileUrl?: string;
    // (undocumented)
    readonly timezone?: string;
    readonly tokenIdentifier: string;
    // (undocumented)
    readonly updatedAt?: Date;
}

// @public
export interface ValidatedFunction<Ctx, ArgsValidator extends PropertyValidators, Output> {
    args: ArgsValidator;
    handler: (ctx: Ctx, args: ObjectType<ArgsValidator>) => Output;
}

// Warning: (ae-forgotten-export) The symbol "Expand" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "BetterOmit" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "SystemFields" needs to be exported by the entry point index.d.ts
//
// @public
export type WithoutSystemFields<Document extends GenericDocument> = Expand<BetterOmit<Document, keyof SystemFields | "_id">>;

// Warnings were encountered during analysis:
//
// src/server/registration.ts:444:3 - (ae-forgotten-export) The symbol "PropertyValidators" needs to be exported by the entry point index.d.ts
// src/server/registration.ts:444:3 - (ae-forgotten-export) The symbol "ObjectType" needs to be exported by the entry point index.d.ts
// src/server/registration.ts:448:3 - (ae-forgotten-export) The symbol "ArgsArray" needs to be exported by the entry point index.d.ts
// src/server/registration.ts:448:3 - (ae-forgotten-export) The symbol "OneArgArray" needs to be exported by the entry point index.d.ts

// (No @packageDocumentation comment for this package)

```
